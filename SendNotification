
local TweenService = game:GetService("TweenService")
local Players = game:GetService("Players")
local Lighting = game:GetService("Lighting")
local RunService = game:GetService("RunService")

local function createNotification()
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "EnhancedNotification"
    screenGui.Parent = Players.LocalPlayer:WaitForChild("PlayerGui")
    screenGui.IgnoreGuiInset = true

    local bloom = Instance.new("BloomEffect")
    bloom.Intensity = 0
    bloom.Size = 0
    bloom.Threshold = 0.85
    bloom.Parent = Lighting

    local blur = Instance.new("BlurEffect")
    blur.Size = 0
    blur.Parent = Lighting

    local colorCorrection = Instance.new("ColorCorrectionEffect")
    colorCorrection.Brightness = 0
    colorCorrection.Contrast = 0
    colorCorrection.Saturation = 0
    colorCorrection.Parent = Lighting

    local container = Instance.new("Frame")
    container.Name = "Container"
    container.Size = UDim2.new(0, 0, 0, 0)
    container.Position = UDim2.new(0.5, 0, 0.5, 0)
    container.AnchorPoint = Vector2.new(0.5, 0.5)
    container.BackgroundColor3 = Color3.fromRGB(36, 40, 60)
    container.BackgroundTransparency = 0.6
    container.BorderSizePixel = 0
    container.ZIndex = 2
    container.Parent = screenGui

    local glassLayer = Instance.new("Frame")
    glassLayer.Size = UDim2.new(1, 0, 1, 0)
    glassLayer.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    glassLayer.BackgroundTransparency = 0.85
    glassLayer.ZIndex = 3
    glassLayer.Parent = container

    local reflection = Instance.new("ImageLabel")
    reflection.BackgroundTransparency = 1
    reflection.Image = "rbxassetid://7733964646" 
    reflection.Size = UDim2.new(1.1, 0, 0.5, 0)
    reflection.Position = UDim2.new(-0.05, 0, -0.15, 0)
    reflection.ImageTransparency = 0.88
    reflection.ZIndex = 4
    reflection.Parent = container

    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 36)
    corner.Parent = container

    local glassCorner = corner:Clone()
    glassCorner.Parent = glassLayer

    local reflectionCorner = corner:Clone()
    reflectionCorner.Parent = reflection

    local stroke = Instance.new("UIStroke")
    stroke.Thickness = 4
    stroke.Color = Color3.fromRGB(120, 80, 255)
    stroke.Transparency = 1
    stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
    stroke.Parent = container

    local gradient = Instance.new("UIGradient")
    gradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(80, 180, 255)),    
        ColorSequenceKeypoint.new(0.3, Color3.fromRGB(160, 120, 255)), 
        ColorSequenceKeypoint.new(0.7, Color3.fromRGB(255, 120, 220)), 
        ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 180, 120))    
    })
    gradient.Rotation = 60
    gradient.Parent = stroke

    local function createGlow(size, color, transparency, z)
        local glow = Instance.new("ImageLabel")
        glow.BackgroundTransparency = 1
        glow.Size = size
        glow.Position = UDim2.new(0.5, 0, 0.5, 0)
        glow.AnchorPoint = Vector2.new(0.5, 0.5)
        glow.Image = "rbxassetid://6026984224"
        glow.ImageColor3 = color
        glow.ImageTransparency = transparency
        glow.ZIndex = z or 1
        glow.Parent = container
        return glow
    end

    local glows = {
        createGlow(UDim2.new(2.7, 0, 2.7, 0), Color3.fromRGB(120, 80, 255), 0.88, 1),
        createGlow(UDim2.new(2.2, 0, 2.2, 0), Color3.fromRGB(80, 180, 255), 0.92, 1),
        createGlow(UDim2.new(1.7, 0, 1.7, 0), Color3.fromRGB(255, 120, 220), 0.96, 1)
    }

    local icon = Instance.new("TextLabel")
    icon.Name = "Icon"
    icon.Size = UDim2.new(0, 80, 0, 80)
    icon.Position = UDim2.new(0.5, 0, 0.18, 0)
    icon.AnchorPoint = Vector2.new(0.5, 0.5)
    icon.BackgroundTransparency = 1
    icon.Text = "UwU"
    icon.TextColor3 = Color3.fromRGB(255, 255, 255)
    icon.Font = Enum.Font.FredokaOne
    icon.TextSize = 72
    icon.TextTransparency = 1
    icon.ZIndex = 5
    icon.Parent = container

    local iconGradient = Instance.new("UIGradient")
    iconGradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(80, 180, 255)),    
        ColorSequenceKeypoint.new(0.5, Color3.fromRGB(160, 120, 255)), 
        ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 120, 220))    
    })
    iconGradient.Rotation = 45
    iconGradient.Parent = icon

    local iconStroke = Instance.new("UIStroke")
    iconStroke.Color = Color3.fromRGB(255, 255, 255)
    iconStroke.Thickness = 2
    iconStroke.Transparency = 0.3
    iconStroke.Parent = icon

    local title = Instance.new("TextLabel")
    title.Name = "Title"
    title.Size = UDim2.new(0.9, 0, 0, 38)
    title.Position = UDim2.new(0.5, 0, 0.38, 0)
    title.AnchorPoint = Vector2.new(0.5, 0)
    title.BackgroundTransparency = 1
    title.Text = "âœ¨ Welcome"
    title.TextColor3 = Color3.fromRGB(255, 255, 255)
    title.TextStrokeColor3 = Color3.fromRGB(120, 60, 180)
    title.TextStrokeTransparency = 0.7
    title.Font = Enum.Font.GothamBlack
    title.TextSize = 32
    title.TextTransparency = 1
    title.ZIndex = 6
    title.Parent = container

    local text = Instance.new("TextLabel")
    text.Name = "Message"
    text.Size = UDim2.new(0.85, 0, 0, 32)
    text.Position = UDim2.new(0.5, 0, 0.60, 0)
    text.AnchorPoint = Vector2.new(0.5, 0)
    text.BackgroundTransparency = 1
    text.Text = "You are in Script wisI'i Universal Project"
    text.TextColor3 = Color3.fromRGB(255, 255, 255)
    text.TextStrokeColor3 = Color3.fromRGB(80, 40, 120)
    text.TextStrokeTransparency = 0.7
    text.Font = Enum.Font.FredokaOne
    text.TextSize = 26
    text.TextTransparency = 1
    text.ZIndex = 6
    text.Parent = container

    local particleFrame = Instance.new("Frame")
    particleFrame.Size = UDim2.new(1, 0, 1, 0)
    particleFrame.BackgroundTransparency = 1
    particleFrame.ZIndex = 7
    particleFrame.Parent = container

    local particles = Instance.new("ParticleEmitter")
    particles.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(80, 180, 255)),
        ColorSequenceKeypoint.new(0.5, Color3.fromRGB(160, 120, 255)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 120, 220))
    })
    particles.Transparency = NumberSequence.new({
        NumberSequenceKeypoint.new(0, 0.3),
        NumberSequenceKeypoint.new(0.7, 0.8),
        NumberSequenceKeypoint.new(1, 1)
    })
    particles.Size = NumberSequence.new({
        NumberSequenceKeypoint.new(0, 0.25),
        NumberSequenceKeypoint.new(0.5, 0.12),
        NumberSequenceKeypoint.new(1, 0)
    })
    particles.Lifetime = NumberRange.new(1.2, 2.2)
    particles.Rate = 60
    particles.Speed = NumberRange.new(7, 11)
    particles.SpreadAngle = Vector2.new(-360, 360)
    particles.Rotation = NumberRange.new(0, 360)
    particles.Parent = particleFrame

    local burstFrame = Instance.new("Frame")
    burstFrame.Size = UDim2.new(1, 0, 1, 0)
    burstFrame.BackgroundTransparency = 1
    burstFrame.ZIndex = 10
    burstFrame.Parent = container

    local burst = Instance.new("ParticleEmitter")
    burst.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 120, 220)),
        ColorSequenceKeypoint.new(0.5, Color3.fromRGB(160, 120, 255)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(80, 180, 255))
    })
    burst.Transparency = NumberSequence.new({
        NumberSequenceKeypoint.new(0, 0.2),
        NumberSequenceKeypoint.new(0.7, 0.8),
        NumberSequenceKeypoint.new(1, 1)
    })
    burst.Size = NumberSequence.new({
        NumberSequenceKeypoint.new(0, 0.35),
        NumberSequenceKeypoint.new(0.5, 0.18),
        NumberSequenceKeypoint.new(1, 0)
    })
    burst.Lifetime = NumberRange.new(0.7, 1.2)
    burst.Rate = 0
    burst.Speed = NumberRange.new(18, 28)
    burst.SpreadAngle = Vector2.new(-360, 360)
    burst.Rotation = NumberRange.new(0, 360)
    burst.Parent = burstFrame

    local sound = Instance.new("Sound")
    sound.SoundId = "rbxassetid://6026984224"
    sound.Volume = 0.7
    sound.Parent = container

    local popSound = Instance.new("Sound")
    popSound.SoundId = "rbxassetid://9118828562" 
    popSound.Volume = 1
    popSound.Parent = container

    return {
        ScreenGui = screenGui,
        Container = container,
        GlassLayer = glassLayer,
        Reflection = reflection,
        Icon = icon,
        Title = title,
        Text = text,
        Blur = blur,
        Bloom = bloom,
        ColorCorrection = colorCorrection,
        Glows = glows,
        Stroke = stroke,
        Gradient = gradient,
        Particles = particles,
        Burst = burst,
        BurstFrame = burstFrame,
        Sound = sound,
        PopSound = popSound,
        LightingEffects = {bloom, blur, colorCorrection},
    }
end

local function animateNotification(elements, duration)
    elements.Sound:Play()

    elements.Container.Size = UDim2.new(0, 0, 0, 0)
    elements.Container.BackgroundTransparency = 1
    elements.Icon.TextTransparency = 1
    elements.Title.TextTransparency = 1
    elements.Text.TextTransparency = 1

    local floating = true
    local floatConn
    local floatStart = tick()
    floatConn = RunService.RenderStepped:Connect(function()
        if not floating then floatConn:Disconnect() return end
        local t = tick() - floatStart
        local offset = math.sin(t * 2) * 6
        elements.Container.Position = UDim2.new(0.5, 0, 0.5, offset)
    end)

    local entranceTweens = {
        TweenService:Create(elements.Container, TweenInfo.new(0.8, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
            Size = UDim2.new(0.45, 0, 0.22, 0),
            BackgroundTransparency = 0.6
        }),
        TweenService:Create(elements.GlassLayer, TweenInfo.new(0.8, Enum.EasingStyle.Quad), {
            BackgroundTransparency = 0.85
        }),
        TweenService:Create(elements.Icon, TweenInfo.new(0.7, Enum.EasingStyle.Quad, Enum.EasingDirection.Out, 0, false, 0.2), {
            TextTransparency = 0
        }),
        TweenService:Create(elements.Title, TweenInfo.new(0.6, Enum.EasingStyle.Quad, Enum.EasingDirection.Out, 0, false, 0.25), {
            TextTransparency = 0
        }),
        TweenService:Create(elements.Text, TweenInfo.new(0.6, Enum.EasingStyle.Quad, Enum.EasingDirection.Out, 0, false, 0.35), {
            TextTransparency = 0
        }),
        TweenService:Create(elements.Blur, TweenInfo.new(0.8), {
            Size = 24
        }),
        TweenService:Create(elements.Bloom, TweenInfo.new(0.8), {
            Intensity = 1.5,
            Size = 72
        }),
        TweenService:Create(elements.ColorCorrection, TweenInfo.new(0.8), {
            Brightness = 0.08,
            Saturation = 0.12
        }),
        TweenService:Create(elements.Stroke, TweenInfo.new(0.8), {
            Transparency = 0
        }),
        TweenService:Create(elements.Reflection, TweenInfo.new(1.2, Enum.EasingStyle.Sine), {
            ImageTransparency = 0.88
        })
    }

    for i, glow in ipairs(elements.Glows) do
        table.insert(entranceTweens, TweenService:Create(glow, TweenInfo.new(1, Enum.EasingStyle.Cubic), {
            ImageTransparency = glow.ImageTransparency - 0.4,
            Rotation = 180 * (i % 2 == 0 and 1 or -1)
        }))
    end

    local gradientTween = TweenService:Create(elements.Gradient, TweenInfo.new(duration, Enum.EasingStyle.Linear), {
        Rotation = elements.Gradient.Rotation + 360
    })
    gradientTween:Play()

    local function pulseEffect()
        for i = 1, math.floor(duration) do
            local pulseTween = TweenService:Create(elements.Container, TweenInfo.new(0.6, Enum.EasingStyle.Sine), {
                Size = UDim2.new(0.47, 0, 0.23, 0)
            })
            local pulseBack = TweenService:Create(elements.Container, TweenInfo.new(0.6, Enum.EasingStyle.Sine), {
                Size = UDim2.new(0.45, 0, 0.22, 0)
            })
            pulseTween:Play()
            pulseTween.Completed:Wait()
            pulseBack:Play()
            pulseBack.Completed:Wait()
        end
    end

    for _, tween in ipairs(entranceTweens) do
        tween:Play()
    end
    task.spawn(pulseEffect)
    task.wait(duration)

    floating = false
    elements.Burst:Emit(32)
    elements.PopSound:Play()

    local exitTweens = {
        TweenService:Create(elements.Container, TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.In), {
            Size = UDim2.new(0.55, 0, 0.27, 0),
            BackgroundTransparency = 1
        }),
        TweenService:Create(elements.GlassLayer, TweenInfo.new(0.5), {
            BackgroundTransparency = 1
        }),
        TweenService:Create(elements.Icon, TweenInfo.new(0.4), {
            TextTransparency = 1
        }),
        TweenService:Create(elements.Title, TweenInfo.new(0.4), {
            TextTransparency = 1
        }),
        TweenService:Create(elements.Text, TweenInfo.new(0.4), {
            TextTransparency = 1
        }),
        TweenService:Create(elements.Blur, TweenInfo.new(0.5), {
            Size = 0
        }),
        TweenService:Create(elements.Bloom, TweenInfo.new(0.5), {
            Intensity = 0,
            Size = 0
        }),
        TweenService:Create(elements.ColorCorrection, TweenInfo.new(0.5), {
            Brightness = 0,
            Saturation = 0
        }),
        TweenService:Create(elements.Stroke, TweenInfo.new(0.5), {
            Transparency = 1
        }),
        TweenService:Create(elements.Reflection, TweenInfo.new(0.5), {
            ImageTransparency = 1
        })
    }

    for _, glow in ipairs(elements.Glows) do
        table.insert(exitTweens, TweenService:Create(glow, TweenInfo.new(0.5), {
            ImageTransparency = 1,
            Rotation = glow.Rotation + 90
        }))
    end

    for _, tween in ipairs(exitTweens) do
        tween:Play()
    end

    task.wait(0.7)
    for _, eff in ipairs(elements.LightingEffects) do
        if eff and eff.Parent then
            eff:Destroy()
        end
    end
    elements.ScreenGui:Destroy()
end

local elements = createNotification()
animateNotification(elements, 4)
